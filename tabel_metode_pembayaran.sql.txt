-- TABEL 1: Partner
CREATE TABLE partners (
    partner_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    code VARCHAR(20) UNIQUE,
    logo_url VARCHAR(255),
    is_active BOOLEAN DEFAULT TRUE
);

-- TABEL 2: Kategori Pembayaran
CREATE TABLE payment_categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    slug VARCHAR(50) UNIQUE
);

-- TABEL 3: Metode Pembayaran
CREATE TABLE payment_methods (
    method_id INT AUTO_INCREMENT PRIMARY KEY,
    partner_id INT NOT NULL,
    category_id INT NOT NULL,
    method_name VARCHAR(100) NOT NULL,
    method_code VARCHAR(50) UNIQUE,
    admin_fee_flat DECIMAL(10, 2) DEFAULT 0,
    admin_fee_percent DECIMAL(5, 2) DEFAULT 0,
    min_amount DECIMAL(15, 2) DEFAULT 10000,
    is_active BOOLEAN DEFAULT TRUE,
    
    FOREIGN KEY (partner_id) REFERENCES partners(partner_id),
    FOREIGN KEY (category_id) REFERENCES payment_categories(category_id)
);